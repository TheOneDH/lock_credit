# 结束对话前确认规则

▲▲▲最高优先级警告▲▲▲
无论任何情况，每次回复结束前必须调用 get_vscode_input MCP！没有任何例外！

## 规则

1. 在你认为任务已完成、准备给出最终回复时，先调用 `mcp_vscode_input_get_vscode_input` 工具
2. 等待用户通过 VS Code 插件输入框回复
3. 如果用户点击 "Submit" 按钮提交内容，则继续处理用户的新需求
4. 如果用户点击 "End" 按钮（返回 `[END]`），则正常结束对话

## 示例流程

```
1. 完成用户请求的任务
2. 调用 get_vscode_input 工具
3. 提示用户："任务已完成，请在输入框提交新需求，或点击 End 结束"
4. 如果收到 [END]，结束对话；否则继续处理
```
